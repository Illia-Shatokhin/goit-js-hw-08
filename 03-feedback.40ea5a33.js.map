{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAeC,SAASC,cAAc,kBAEtCC,EAAqB,CACzBC,MAAO,GACPC,QAAS,IAGX,GAAIC,EAAK,uBAAwB,CAC/B,MAAMC,EAAoBD,EAAK,uBAC/BE,EAAsBD,EAAkBH,MAAOG,EAAkBF,SAwDjEL,EAAaS,kBAAkBA,kBAAkBC,MAC/CP,EAAmBC,MACrBJ,EAAaS,kBAAkBE,mBAAmBF,kBAAkBC,MAClEP,EAAmBE,OAzDvB,CA+BA,SAASC,EAAKM,GACZ,IACE,MAAMC,EAAkBC,aAAaC,QAAQH,GAC7C,OAA2B,OAApBC,GAAmCG,KAAKC,MAAMJ,EACvD,CAAE,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAMb,QAC3C,CACF,CAUA,SAASG,EAAsBJ,EAAOC,GACpCF,EAAmBC,MAAQA,EAC3BD,EAAmBE,QAAUA,CAC/B,CAjDAL,EAAaoB,iBACX,QACAC,EAAAvB,GAAEwB,UAASC,IACTpB,EAAmBoB,EAAMC,OAAOC,MAAQF,EAAMC,OAAOd,MAiBzD,SAAcE,EAAKF,GACjB,IACE,MAAMG,EAAkBG,KAAKU,UAAUhB,GACvCI,aAAaa,QAAQf,EAAKC,EAC5B,CAAE,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAMb,QAC3C,CACF,CAvBIuB,CAAK,sBAAuBzB,EAAA,IAE9B,KAGFH,EAAaoB,iBAAiB,UAAUG,IAEtC,GADAA,EAAMM,iBAC2B,KAA7B1B,EAAmBC,OAA+C,KAA/BD,EAAmBE,QACxD,OAAOyB,MAAM,sBAEfX,QAAQY,IAAI5B,GAwBd,SAAgBS,GACd,IACEE,aAAakB,WAAWpB,EAC1B,CAAE,MAAOM,GACPC,QAAQD,MAAM,uBAAwBA,EAAMb,QAC9C,CACF,CA7BE4B,CAAO,uBACPzB,EAAsB,GAAI,IAC1BR,EAAakC,OAAK,G","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\nconst feedbackForm = document.querySelector('.feedback-form');\n\nconst initialInputValues = {\n  email: '',\n  message: '',\n};\n\nif (load('feedback-form-state')) {\n  const localStorageValue = load('feedback-form-state');\n  setInitialInputValues(localStorageValue.email, localStorageValue.message);\n  inputValuesFromInitialInputValues();\n}\n\nfeedbackForm.addEventListener(\n  'input',\n  _.throttle(event => {\n    initialInputValues[event.target.name] = event.target.value;\n    save('feedback-form-state', initialInputValues);\n  }),\n  500\n);\n\nfeedbackForm.addEventListener('submit', event => {\n  event.preventDefault();\n  if (initialInputValues.email === '' || initialInputValues.message === '') {\n    return alert('Заповніть всі поля');\n  }\n  console.log(initialInputValues);\n  remove('feedback-form-state');\n  setInitialInputValues('', '');\n  feedbackForm.reset();\n});\n\nfunction save(key, value) {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n}\n\nfunction load(key) {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? false : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n}\n\nfunction remove(key) {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.error('Remove state error: ', error.message);\n  }\n}\n\nfunction setInitialInputValues(email, message) {\n  initialInputValues.email = email;\n  initialInputValues.message = message;\n}\n\nfunction inputValuesFromInitialInputValues() {\n  feedbackForm.firstElementChild.firstElementChild.value =\n    initialInputValues.email;\n  feedbackForm.firstElementChild.nextElementSibling.firstElementChild.value =\n    initialInputValues.message;\n}\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$feedbackForm","document","querySelector","$b00c40859be242c5$var$initialInputValues","email","message","$b00c40859be242c5$var$load","localStorageValue","$b00c40859be242c5$var$setInitialInputValues","firstElementChild","value","nextElementSibling","key","serializedState","localStorage","getItem","JSON","parse","error","console","addEventListener","$parcel$interopDefault","throttle","event","target","name","stringify","setItem","$b00c40859be242c5$var$save","preventDefault","alert","log","removeItem","$b00c40859be242c5$var$remove","reset"],"version":3,"file":"03-feedback.40ea5a33.js.map"}